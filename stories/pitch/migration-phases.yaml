id: migration-phases
title: 12-Week Pilot Roadmap
description: Proving event-driven architecture works
version: "1.0"
actors: []

camera:
  center: [0, 0]
  zoom: 0.8

nodes:
  - id: start
    type: start
    label: Today
    size: xs
    position: { x: -400, y: 0 }
    effects:
      - type: pulse
        trigger: on-focus
        params:
          scale: 1.15

  # Phase 1: Foundation
  - id: phase-1
    type: system
    label: Foundation
    description: "Weeks 1-4: Event infrastructure"
    size: l
    position: { x: -220, y: 0 }
    effects:
      - type: glow
        trigger: on-focus
        params:
          color: "#3b82f6"
          intensity: 0.5

  - id: p1-task-1
    type: action
    label: Service Bus Setup
    size: s
    position: { x: -220, y: -100 }

  - id: p1-task-2
    type: action
    label: Event Contracts
    size: s
    position: { x: -220, y: 100 }

  # Phase 2: First BC
  - id: phase-2
    type: system
    label: First BC Live
    description: "Weeks 5-8: E&D migrated"
    size: l
    position: { x: 0, y: 0 }
    effects:
      - type: glow
        trigger: on-focus
        params:
          color: "#8b5cf6"
          intensity: 0.5

  - id: p2-task-1
    type: action
    label: E&D Migration
    size: s
    position: { x: 0, y: -100 }

  - id: checkpoint
    type: decision
    label: Week 8 Checkpoint
    size: m
    position: { x: 0, y: 100 }
    effects:
      - type: shake
        trigger: on-focus
        params:
          intensity: 3
          duration: 300

  # Phase 3: Expansion
  - id: phase-3
    type: system
    label: Expansion
    description: "Weeks 9-12: Second BC + patterns"
    size: l
    position: { x: 220, y: 0 }
    effects:
      - type: glow
        trigger: on-focus
        params:
          color: "#22c55e"
          intensity: 0.5

  - id: p3-task-1
    type: action
    label: Routing BC
    size: s
    position: { x: 220, y: -100 }

  - id: p3-task-2
    type: action
    label: Playbook
    size: s
    position: { x: 220, y: 100 }

  # Success
  - id: success
    type: state
    label: PoC Complete
    variant: success
    size: l
    position: { x: 400, y: 0 }
    effects:
      - type: emoji-explosion
        trigger: on-reveal
        params:
          emojis: ["ðŸŽ‰", "ðŸš€", "âœ…", "ðŸ’ª"]
          count: 25
          duration: 2000
      - type: glow
        trigger: continuous
        params:
          color: "#22c55e"
          intensity: 0.6

edges:
  # Main timeline flow (horizontal)
  - id: e1
    source: start
    target: phase-1
    type: flow
    sourceAnchor: right
    targetAnchor: left

  - id: e4
    source: phase-1
    target: phase-2
    type: flow
    sourceAnchor: right
    targetAnchor: left

  - id: e7
    source: phase-2
    target: phase-3
    type: flow
    sourceAnchor: right
    targetAnchor: left

  - id: e10
    source: phase-3
    target: success
    type: flow
    sourceAnchor: right
    targetAnchor: left

  # Phase 1 tasks (vertical)
  - id: e2
    source: phase-1
    target: p1-task-1
    type: flow
    sourceAnchor: top
    targetAnchor: bottom

  - id: e3
    source: phase-1
    target: p1-task-2
    type: flow
    sourceAnchor: bottom
    targetAnchor: top

  # Phase 2 tasks (vertical)
  - id: e5
    source: phase-2
    target: p2-task-1
    type: flow
    sourceAnchor: top
    targetAnchor: bottom

  - id: e6
    source: phase-2
    target: checkpoint
    type: flow
    label: Go/No-Go
    sourceAnchor: bottom
    targetAnchor: top

  # Phase 3 tasks (vertical)
  - id: e8
    source: phase-3
    target: p3-task-1
    type: flow
    sourceAnchor: top
    targetAnchor: bottom

  - id: e9
    source: phase-3
    target: p3-task-2
    type: flow
    sourceAnchor: bottom
    targetAnchor: top

steps:
  - id: step-1
    title: Starting Point
    nodeIds: [start]
    edgeIds: []
    narrative: We start today with a focused 12-week pilot.

  - id: step-2
    title: "Phase 1: Foundation"
    nodeIds: [start, phase-1]
    edgeIds: [e1]
    narrative: "Weeks 1-4: Build event infrastructure."

  - id: step-3
    title: Service Bus Setup
    nodeIds: [start, phase-1, p1-task-1]
    edgeIds: [e1, e2]
    narrative: Set up Azure Service Bus and event routing.

  - id: step-4
    title: Event Contracts
    nodeIds: [start, phase-1, p1-task-1, p1-task-2]
    edgeIds: [e1, e2, e3]
    narrative: Define event schemas and contracts between services.

  - id: step-5
    title: "Phase 2: First BC"
    nodeIds: [start, phase-1, p1-task-1, p1-task-2, phase-2]
    edgeIds: [e1, e2, e3, e4]
    narrative: "Weeks 5-8: Migrate the first bounded context."

  - id: step-6
    title: E&D Migration
    nodeIds: [start, phase-1, p1-task-1, p1-task-2, phase-2, p2-task-1]
    edgeIds: [e1, e2, e3, e4, e5]
    narrative: Migrate E&D bounded context to event-driven architecture.

  - id: step-7
    title: Week 8 Checkpoint
    nodeIds: [start, phase-1, p1-task-1, p1-task-2, phase-2, p2-task-1, checkpoint]
    edgeIds: [e1, e2, e3, e4, e5, e6]
    narrative: "Critical decision point: Go/No-Go based on results."

  - id: step-8
    title: "Phase 3: Expansion"
    nodeIds: [start, phase-1, p1-task-1, p1-task-2, phase-2, p2-task-1, checkpoint, phase-3]
    edgeIds: [e1, e2, e3, e4, e5, e6, e7]
    narrative: "Weeks 9-12: Expand the pattern."

  - id: step-9
    title: Routing BC
    nodeIds: [start, phase-1, p1-task-1, p1-task-2, phase-2, p2-task-1, checkpoint, phase-3, p3-task-1]
    edgeIds: [e1, e2, e3, e4, e5, e6, e7, e8]
    narrative: Migrate second bounded context - Routing.

  - id: step-10
    title: Migration Playbook
    nodeIds: [start, phase-1, p1-task-1, p1-task-2, phase-2, p2-task-1, checkpoint, phase-3, p3-task-1, p3-task-2]
    edgeIds: [e1, e2, e3, e4, e5, e6, e7, e8, e9]
    narrative: Document patterns, create playbook for future migrations.

  - id: step-11
    title: Success!
    nodeIds: [start, phase-1, p1-task-1, p1-task-2, phase-2, p2-task-1, checkpoint, phase-3, p3-task-1, p3-task-2, success]
    edgeIds: [e1, e2, e3, e4, e5, e6, e7, e8, e9, e10]
    narrative: "12 weeks: Event-driven architecture proven, ready to scale!"
